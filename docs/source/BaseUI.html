<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*jslint bitwise: false, browser: true, windows: false, evil: false, white: false, plusplus: true */
/*globals ObjectJS:false,$:false, TestCase:false,assertEquals:false,expectAsserts:false,assertFunction:false,assertNoException:false, jQuery:false, window:false*/

<span id='global-property-'>/**
</span> * @author Scott van Looy
 */
(function (uis) {
	&quot;use strict&quot;;
<span id='BaseUI'>	/** PRIVATE METHODS **/
</span>	var BaseUI = ObjectJS.augmentObject({}),
		f = function (fn) {
			return (typeof fn === &quot;function&quot;);
		};

<span id='BaseUI-property-'>	/** API METHODS **/
</span><span id='BaseUI-method-setRootDomNode'>	/**
</span>	 * Sets the root dom node that the library uses to find other dom nodes when generating UI components. Defaults to body.
	 * @param {String|Object} domNode the selector for the domNode
	 */
	BaseUI.setRootDomNode = function (domNode) {
		BaseUI.root = (domNode.jquery || domNode.zepto) ? domNode : $(domNode);
	};
<span id='BaseUI-method-setupUI'>	/**
</span>	 * Sets up a UI, caches its domnode and prepares it for use.
	 * @param {String|Object} id - the dom ID, className or jQuery object of the root element for the UI.
	 */
	BaseUI.setupUI = function (id) {
		if (!ObjectJS.mixins.UI) {
			ObjectJS.requires(['core.mixins.Native']);
		}
		ObjectJS.mixins.UI(this);
		if (!window.jQuery &amp;&amp; !window.Zepto) {
			this.domNode = ObjectJS.mixins.Selector(id);
		} else {
			if (id.jquery || id.zepto) {
				this.domNode = id;
			} else {
				this.domNode = BaseUI.root.find(id).eq(0);
			}
		}
		this.contentNode = this.domNode.find('.content');
		this.headerNode = this.domNode.find('.title');
		this.templateNode = this.domNode.find('.template').remove();
		this.footerNode = this.domNode.find('.footer');
	};
<span id='BaseUI-method-setView'>	/**
</span>	 * Sets the active view on a UI object
	 * @param {Object} view a reference to the view we wish to set on the UI object.
	 */
	BaseUI.setView = function (view) {
		this.view = view;
	};
<span id='BaseUI-method-getView'>	/**
</span>	 * Gets a reference to the currently set view on a UI object
	 * @return {Object} a reference to the currently set view
	 */
	BaseUI.getView = function () {
		return this.view;
	};
<span id='BaseUI-method-open'>	/**
</span>	 * 
	 * Opens a UI object. Adds a class of &quot;open&quot; to the UI's domNode. Either animate using CSS3 or override this to create a Javascript animation.
	 * @param  {Object} obj A reference to the UI object
	 * @return {Object}     a reference to the UI object (for chaining).
	 */
	BaseUI.open = function (obj) {
		obj = obj || this;
		setTimeout(function () {
			obj.domNode.addClass('open');
			obj.isOpen = true;
		}, 100);
		return obj;
	};
<span id='BaseUI-method-close'>	/**
</span>	 * Closes a UI object. Removes the class &quot;open&quot; from the UI's domNode. Either animate using CSS3 or override this to create a Javascript animation.
	 * @param  {Function} [cb] Callback to run when the close is complete.
	 * @return {Object}     a reference to the UI object (for chaining).
	 */
	BaseUI.close = function (cb) {
		this.domNode.removeClass('open');
		this.isOpen = false;
		if (cb &amp;&amp; f(cb)) {
			cb();
		}
		return this;
	};
<span id='BaseUI-method-getContentNode'>	/**
</span>	 * Returns the contentNode for a UI.
	 * @return {Object} a .content node or the domNode of the UI in question.
	 */
	BaseUI.getContentNode = function () {
		return this.contentNode;
	};
<span id='BaseUI-method-addMethods'>	/**
</span>	 * Add methods to the UI object you're creating. Automatically create super methods when the object you're passing in contains the same methods as its parent.
	 * @param {Object} options Object containing the methods you wish to add to the host object.
	 */
	BaseUI.addMethods = function (options) {
		var method,
			args;
		for (method in options) {
			if (options.hasOwnProperty(method) &amp;&amp; typeof method === &quot;function&quot;) {
				if (!this[method]) {
					this[method] = options[method];
				} else {
					options['super' + method] = this[method];
					this[method] = function () {
						if (arguments.length === 1) {
							args = arguments[0];
						} else {
							args = arguments;
						}
						options[method](args);
						options['super' + method](args);
					};
				}
			}
		}
	};
<span id='BaseUI-method-createUI'>	/**
</span>	 * Takes an object and extends it with the BaseUI
	 * @param {Object} object to extend;
	 * @return {Object} extended object
	 */
	BaseUI.createUI = BaseUI.extend.curry(undefined, BaseUI);
	uis.BaseUI = BaseUI;
}(ObjectJS.reqNameSpace('ObjectJS.core.uis')));

</pre>
</body>
</html>
